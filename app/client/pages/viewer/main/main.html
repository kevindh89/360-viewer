<template name="main">
    <div class="action-container">
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--file">
            <a-scene vr-mode-ui="enabled: true">
                <a-assets>
                    <img id="photo" src="{{activeImage}}"/>
                    <a-asset-item id="pointer" src="/models/pointer.dae"></a-asset-item>
                    <a-asset-item id="pointer2" src="/models/pointer2.dae"></a-asset-item>
                </a-assets>
                <a-entity position="0 0 0">
                    {{#each hyperlinkObjects}}
                        <a-entity class="scene hyperlink-object" collada-model="/models/pointer.dae" scale="0.5 0.5 0.5"
                                  rotation="{{getRotation}}" position="{{getPosition}}" material="opacity: 1"
                                  data-src="{{skyImage getScene this}})" data-id="{{getScene._id}}"
                                  event-set__enter="_event: mouseenter; material.color: yellowgreen; scale: 3 1 1"
                                  set-image="on: click; target: #image; src: {{skyImage getScene this}}"
                                  alongpath="path:{{getPositionStart}} {{getPositionEnd}} {{getPositionStart}}; closed:false; loop: true; dur:1500; delay:1000; inspector:false;"
                                  mouseenter-tracking
                        >
                        </a-entity>
                    {{/each}}
                    <a-box event-set__enter="_event: mouseenter; material.color: yellowgreen; scale: 3 1 1"></a-box>
                </a-entity>
                <a-entity id="hud" position="0 10 0" far="10000000" camera look-controls mouse-cursor>
                    <a-entity id="cursor" cursor="fuse: true; timeout: 0" cursor-listener
                              position="0 0 -5" scale="0.30 0.30 0.30" geometry="primitive: ring"
                              material="color: {{#if client.style.pointerColor}}{{client.style.pointerColor}}{{else}}#e9342d{{/if}}; shader: flat">
                        <a-animation attribute="scale" from="0.30 0.30 0.30" to="0.40 0.40 0.40" dur="2000"
                                     direction="alternate" easing="linear" repeat="indefinite"></a-animation>
                        <a-animation begin="mouseover-clickable" end="mouseleave-clickable" easing="ease-in"
                                     attribute="scale" fill="forwards" to="0.15 0.15 0.15" dur="1000"></a-animation>
                    </a-entity>
                </a-entity>
                <a-sky id="image" src="#photo" rotation="0 0 0">
                    <a-animation attribute="material.color" dur="1000" from="#fff" to="#000" direction="alternate" begin="set-image-fade" repeat="1"></a-animation>
                </a-sky>
            </a-scene>

        </div>
    </div>
</template>
