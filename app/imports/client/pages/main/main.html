<template name="main">
    <a-scene id="scene" inspector="url: https://aframe.io/releases/0.4.0/aframe-inspector.min.js">
        <a-assets>
            <img id="photo" src="{{activeImage}}"/>
            {{#each hyperlinkObjects}}
                <img src="{{getDestinationSceneSkyImage this}}" />
            {{/each}}
        </a-assets>
        <a-entity position="0 0 0">
            {{#each hyperlinkObjects}}
                {{> hyperlinkObject}}
            {{/each}}

            {{#each textObjects}}
                {{> textObject}}
            {{/each}}
        </a-entity>
        <a-entity id="hud" position="0 10 0" far="10000000" camera look-controls mouse-cursor></a-entity>
        <a-sky id="image" src="{{activeImage}}" rotation="{{sceneRotation}}">
            <a-animation attribute="material.color" dur="750" from="#fff" to="#000" begin="fade-sky-to-black"></a-animation>
            <a-animation attribute="material.color" dur="750" from="#000" to="#fff" begin="fade-sky-to-image"></a-animation>
        </a-sky>
    </a-scene>

    {{#if isDefined logo}}
        <a href="{{logo.href}}">
            <button class="client-logo" style="background: url('{{logo.file}}') 70% 70%/100% 100% no-repeat;">
            </button>
        </a>
    {{/if}}

    <div id="footer">
        made by <a href="https://www.vensterworks.com" target="_blank">Vensterworks</a>
    </div>
</template>

<template name="cursor">
    <a-entity id="cursor" cursor="fuse: true; timeout: 0" vr-cursor-animations
              position="0 0 -5" scale="0.30 0.30 0.30" geometry="primitive: ring"
              material="color: {{#if style.pointerColor}}{{style.pointerColor}}{{else}}#e9342d{{/if}}; shader: flat">
        <a-animation attribute="scale" from="0.30 0.30 0.30" to="0.40 0.40 0.40" dur="2000"
                     direction="alternate" easing="linear" repeat="indefinite"></a-animation>
        <a-animation begin="mouseover-clickable" end="mouseleave-clickable" easing="ease-in"
                     attribute="scale" fill="forwards" to="0.15 0.15 0.15" dur="1000"></a-animation>
    </a-entity>
</template>